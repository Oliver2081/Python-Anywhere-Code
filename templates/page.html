<html>
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{{ specRef }}: {{ title }}</title>
        <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    </head>
    <body>
        <header>
            <h1>{{ title }}</h1>

            <div class="hamburger" id="hamburger">
                <div></div>
                <div></div>
                <div></div>
            </div>

            <nav class="nav-links" id="nav-links">
                <a href="/">Home</a>

                <div class="dropdown">
                    <button>3.1 Living with the Physical Environment ▼</button>
                    <div class="dropdown-content">
                        <a href="/the_living_world">3.1.1 The Living World</a>
                        <a href="/natural_hazards">3.1.2 Natural Hazards</a>
                        <a href="/physical_landscapes_in_the_uk">3.1.3 Physical Landscapes in the UK</a>
                    </div>
                </div>

                <div class="dropdown">
                    <button>3.2 Challenges in the Human Environment ▼</button>
                    <div class="dropdown-content">
                        <a href="/urban_issues_and_challenges">3.2.1 Urban Issues and Challenges</a>
                        <a href="/challenges_of_resource_management">3.2.2 Challenges of Resource Management</a>
                        <a href="/global_development">3.2.3 Global Development</a>
                    </div>
                </div>

                <div class="dropdown">
                    <button>3.3 Geographical Applications ▼</button>
                    <div class="dropdown-content">
                        <a href="/issue_evaluation">3.3.1 Issue Evaluation</a>
                        <a href="/fieldwork">3.3.2 Fieldwork</a>
                    </div>
                </div>

                <a href="/geographical_skills">3.4 Geographical Skills</a>
            </nav>
        </header>

        {% for section in sections %}
            <div class="box">
                {% if section.title != '' %}
                    <h2><u>{{ section.title }}</u></h2>
                {% endif %}

                {% for element in section.content %}

                    {% if element.style == 'ul' %}
                        <ul>
                            {% for line in element.data.split('\n') %}
                                <li>{{ line }}</li>
                            {% endfor %}
                        </ul>

                    {% elif element.style == 'rowtable' %}
                        <table class="data-table">
                            <thead>
                                <tr>
                                    {% for header in element.data.headers %}
                                        <th>{{ header }}</th>
                                    {% endfor %}
                                </tr>
                            </thead>
                            <tbody>
                                {% for row in element.data.rows %}
                                    <tr>
                                        {% for cell in row %}
                                            <td>{{ cell }}</td>
                                        {% endfor %}
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    {% elif element.style == 'coltable' %}
                        {% set num_rows = element.data.columns | map('length') | max %}
                        <table class="data-table">
                            <thead>
                                <tr>
                                    {% for header in element.data.headers %}
                                        <th>{{ header }}</th>
                                    {% endfor %}
                                </tr>
                            </thead>
                            <tbody>
                                {% for i in range(num_rows) %}
                                    <tr>
                                        {% for col in element.data.columns %}
                                            <td>
                                                {% if col[i] is defined %}
                                                    {{ col[i] }}
                                                {% else %}
                                                    <!-- empty cell if column shorter -->
                                                {% endif %}
                                            </td>
                                        {% endfor %}
                                    </tr>
                                {% endfor %}
                            </tbody>
                        </table>
                    {% elif element.style in ['h1','h2','h3','h4','h5','h6'] %}
                        <{{ element.style }}>{{ element.data }}</{{ element.style }}>

                    {% else %}
                        <p>{{ element.data }}</p>
                    {% endif %}

                {% endfor %}
            </div>
        {% endfor %}
        <script>
            const hamburger = document.getElementById('hamburger');
            const navLinks = document.getElementById('nav-links');

            hamburger.addEventListener('click', () => {
                navLinks.classList.toggle('active');
            });
        </script>
    </body>
</html>


